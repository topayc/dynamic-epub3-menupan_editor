A3Maker=A3Maker||{},$(function(){A3Maker.statusBar={papers:[],thumbnailIndex:0,curPageIndex:1,slideThumnails:[],alignLineShow:!1,init:function(){this.initializePageBoxHandler(),this.initializeStatusbarHandler(),this.setPageSlider({value:0}),this.setPageNumberText(0,0,"")},setPageNumberText2:function(e,a,t){$("#zoom_handle").text(e),$("#statusbarArea #statusbarLeftArea #curPageNumber").val(e),$("#statusbarArea #statusbarLeftArea #totalPageNumber").text(A3Maker.project.pages.length),$("#statusbarArea #statusbarLeftArea #curPageName").text(t)},setPageNumberText:function(e,a,t){A3Maker.getSelectedPage();e&&$("#zoom_handle").text(e),e&&$("#statusbarArea #statusbarLeftArea #curPageNumber").val(e),t?$("#statusbarArea #statusbarLeftArea #curPageName").text(t):$("#statusbarArea #statusbarLeftArea #curPageName").text(""),$("#statusbarArea #statusbarLeftArea #totalPageNumber").text(A3Maker.project.pages.length)},getGridMarkerSize:function(){var e=parseInt($("#scaleMarkSize option:selected").val());return e},setPageSlider:function(e){$("#zoom_handle");var a={min:1,max:A3Maker.project.pages.length,value:1};a=void 0===e?a:$.extend(a,e),$("#zoom_slider").slider(a)},showCrossGridLine:function(){A3Maker.getSelectedPage()},initializePageBoxHandler:function(){var e=this;$("#statusbarArea #statusbarLeftArea #curPageNumber").keypress(function(a){if(13==a.which){e.slideThumnails=A3Maker.sidebar.cloneThumbnailAllPage(!1,200,100);var t=parseInt($(this).val());if(t<1||t>A3Maker.project.pages.length)return void $(this).val(e.curPageIndex);var r=e.slideThumnails[t-1];r=A3Maker.project.componentMap[r.attr("id").split("_")[1]],e.curPageIndex=t,A3Maker.controller.selectPage(r)}})},initializeStatusbarHandler:function(){var e,a=this,t=$("#zoom_handle"),r={position:"fixed",left:"370px",padding:"1px",bottom:"40px"};$("#zoom_slider").slider({start:function(){var t=A3Maker.project.data.width>=150?150:A3Maker.project.data.width,i=A3Maker.project.data.width*t/A3Maker.project.data.height;a.slideThumnails=A3Maker.sidebar.cloneThumbnailAllPage(!1,t,i),e=a.slideThumnails[a.thumbnailIndex],e.css(r),$("body").append(e)},stop:function(t,r){var i=parseInt(r.value),n=a.slideThumnails[i-1];a.curPageIndex=i,n=A3Maker.project.componentMap[n.attr("id").split("_")[1]],A3Maker.controller.selectPage(n),e&&e.remove(),a.slideThumnails.length=0},create:function(){t.text($(this).slider("value"))},slide:function(i,n){e&&e.remove();var s=parseInt(n.value),l=a.slideThumnails[s-1];l=A3Maker.project.componentMap[l.attr("id").split("_")[1]],e=a.slideThumnails[s-1],e.css(r),$("body").append(e),a.setPageNumberText(s,A3Maker.project.pages.length,l.data.name),t.text(n.value),a.thumbnailIndex=s-1},min:1}),$("#scaleMarkMode").click(function(e){A3Maker.contextMenu.toggleGridLine()}),$("#alignLineState").click(function(e){a.alignLineShow=!a.alignLineShow}),$("#scaleMarkSize").change(function(){A3Maker.contextMenu.showGridLine()}),$("#slideShow").click(function(e){e.preventDefault(),A3Maker.changeAllComponentSelectStatus(A3Maker.getSelectedPage(),!1),A3Maker.multiSelectionRect.resetSelection(),A3Maker.preview.startPreview()}),$("#bottomSearchBtn").click(function(){var e=$("#bottomSearchbox").val();A3Maker.searchWindow.search(e)}),$("#bottomSearchbox").keypress(function(e){13==e.which&&$("#bottomSearchBtn").trigger("click")})},reset:function(){this.init()}}});