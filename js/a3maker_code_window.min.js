A3Maker=A3Maker||{},$(function(){A3Maker.codeWindow={init:function(){this.editor=CodeMirror.fromTextArea(document.getElementById("code_editor"),{lineNumbers:!0,styleActiveLine:!0,matchBrackets:!0}),this.editor.setOption("theme","ambiance"),this.editor.setOption("scrollbarStyle","overlay"),this.initializeEventHandler()},initializeEventHandler:function(){var t=this;$("#code_container #code_window_lose_btn").click(function(){t.close()}),$("#code_container #code_window_ok_btn").click(function(){t.component.data.script=t.editor.getValue(),t.close()})},open:function(t,e){if("script"!==e.data.type)throw"wrong code component";this.title=t,this.component=e,this.editor.clearHistory(),this.setTitle(t),this.editor.setValue(this.component.data.script),$("#code_container").show(),$("#code_container").css({"font-size":"12px",position:"absolute",left:"50%","z-index":9999,top:"50%","margin-left":"-300px","margin-top":"-250px","font-family":"Malgum Gothic","box-shadow":"rgb(100, 100, 100) 3px 3px 3px"}),this.editor.setSize(600,500),$("#code_container").show(),$("#code_container").draggable()},setCode:function(t){$("#code_container #code_editor").text(t)},setTitle:function(t){$("#code_container #code_title").text(t)},reset:function(){},close:function(){this.title="",this.setCode(""),this.editor.setValue(""),this.editor.clearHistory(),$("#code_container").hide()}},A3Maker.codeWindow.init()});